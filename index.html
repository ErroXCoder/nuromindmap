<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erweiterbare Mindmap</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        canvas {
            display: block;
        }
        #tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            display: none;
            pointer-events: none;
            font-size: 14px;
        }
    </style>
</head>
<body>
<canvas id="networkCanvas"></canvas>
<div id="tooltip"></div>

<script>
    const canvas = document.getElementById('networkCanvas');
    const ctx = canvas.getContext('2d');
    const tooltip = document.getElementById('tooltip');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // Daten: Knoten
    const nodes = [
        { id: 1, x: 300, y: 300, label: "Hauptknoten", color: "#007BFF", category: "Haupt", description: "Das ist der Hauptknoten." },
        { id: 2, x: 500, y: 200, label: "Unterknoten A", color: "#FF5733", category: "Unterpunkt", description: "Das ist Unterknoten A." },
        { id: 3, x: 400, y: 400, label: "Unterknoten B", color: "#28A745", category: "Unterpunkt", description: "Das ist Unterknoten B." },
        { id: 4, x: 600, y: 400, label: "Nebenpunkt", color: "#FFC107", category: "Neben", description: "Das ist der Nebenpunkt." },
        { id: 5, x: 700, y: 300, label: "Zusatz", color: "#6F42C1", category: "Zusatz", description: "ZusÃ¤tzlicher Knoten." }
    ];

    // Daten: Verbindungen
    const links = [
        { source: 1, target: 2, color: "#cccccc", category: "Verbindung 1" },
        { source: 1, target: 3, color: "#cccccc", category: "Verbindung 2" },
        { source: 2, target: 4, color: "#cccccc", category: "Verbindung 3" },
        { source: 3, target: 5, color: "#cccccc", category: "Verbindung 4" },
        { source: 4, target: 5, color: "#cccccc", category: "Verbindung 5" }
    ];

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Links zeichnen
        links.forEach(link => {
            const source = nodes.find(node => node.id === link.source);
            const target = nodes.find(node => node.id === link.target);
            if (source && target) {
                ctx.beginPath();
                ctx.moveTo(source.x, source.y);
                ctx.lineTo(target.x, target.y);
                ctx.strokeStyle = link.color || "#ccc";
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        });

        // Knoten zeichnen
        nodes.forEach(node => {
            ctx.beginPath();
            ctx.arc(node.x, node.y, 20, 0, Math.PI * 2);
            ctx.fillStyle = node.color;
            ctx.fill();
            ctx.strokeStyle = "#ffffff";
            ctx.lineWidth = 2;
            ctx.stroke();

            ctx.fillStyle = "#fff";
            ctx.textAlign = "center";
            ctx.font = "14px Arial";
            ctx.fillText(node.label, node.x, node.y + 4);
        });
    }

    function getMousePos(evt) {
        const rect = canvas.getBoundingClientRect();
        return {
            x: evt.clientX - rect.left,
            y: evt.clientY - rect.top
        };
    }

    function findNodeAtPosition(pos) {
        return nodes.find(node => {
            const dx = pos.x - node.x;
            const dy = pos.y - node.y;
            return Math.sqrt(dx * dx + dy * dy) < 20;
        });
    }

    canvas.addEventListener('mousemove', (event) => {
        const pos = getMousePos(event);
        const hoveredNode = findNodeAtPosition(pos);
        if (hoveredNode) {
            tooltip.style.left = event.clientX + 10 + 'px';
            tooltip.style.top = event.clientY + 10 + 'px';
            tooltip.innerHTML = `
                <strong>${hoveredNode.label}</strong><br>
                Kategorie: ${hoveredNode.category}<br>
                Beschreibung: ${hoveredNode.description}
            `;
            tooltip.style.display = 'block';
        } else {
            tooltip.style.display = 'none';
        }
    });

    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        draw();
    });

    draw();
</script>
</body>
</html>
